# 聚光灯主题游戏创作征集报名后台

## 1. 概述

### 1.1 背景
为7月18日【[聚光灯主题游戏创作征集S1](https://xindong.atlassian.net/wiki/spaces/~LuoGuangQian.XD/pages/1330912996/WIP+-+-+-+S1)】提供线上报名、信息收集与管理，支持分步流程、信息校验、Tap账号登录，提升报名体验和数据准确性。

### 1.2 核心功能
- Tap账号登录认证
- 报名信息填写与提交
- 游戏信息验证与提交
- 用户状态管理与页面流转

## 2. 页面结构与元素

### 2.1 登录页面
**页面元素：**

- 活动标题：聚光灯 · 主题游戏创作征集
- 活动时间：S1 | 7月18日 - 10月22日
- 活动介绍：定期面向所有开发者举办的主题游戏征集活动，开发者可随时加入，自由投稿游戏，并获得TapTap提供的流量扶持。
- 参与规则：
  - 参赛者需使用Tap账号登录报名
  - 游戏作品需围绕指定主题进行创作
  - 作品需在10月22日前完成并提交，提交时间越早，获得扶持机会越大
  - 参赛作品需遵守相关法规和平台规范
- 奖励说明：XXXXXXXXXX（占位符）
- 更多详情：点击查看详细活动规则
- 登录按钮：点击参与
- 登录提示：需要使用Tap账号登录

**页面逻辑：**
- 未登录用户访问任意页面自动跳转至此
- 点击"点击参与"按钮触发Tap登录流程
- 登录成功后根据用户状态跳转

### 2.2 主页面
**页面元素：**
- Header区域：
  - 左侧：活动标题 + 活动时间
  - 右侧：了解详情链接 + 用户头像 + 用户名
- 主内容区域：根据用户状态显示不同内容

**状态1 - 未报名：**
- 图标：用户图标（蓝色）
- 标题：开始报名
- 副标题：填写基本信息，提交游戏详情
- 按钮：填写报名信息

**状态2 - 已报名未提交游戏：**
- 图标：时钟图标（橙色）
- 标题：报名成功
- 副标题：请在征集结束前登记投稿游戏
- 按钮：登记投稿游戏 + 修改报名信息

**状态3 - 已完成：**
- 图标：完成图标（绿色）
- 标题：报名完成
- 副标题：您正在以【游戏名称 - 厂商名称】参加本期征集活动。请在征集期内在TapTap正式上架游戏，部分活动奖励将根据游戏在征集期内的数据情况核算发放。
- 按钮：查看报名信息

**页面逻辑：**
- 根据用户状态自动显示对应内容
- 点击按钮触发相应表单页面
- 支持状态间的页面跳转

### 2.3 报名表单页面
**页面元素：**
- 标题：基本信息
- 表单字段：
  - Tap ID（自动填充，不可编辑）
  - 手机号（必填，格式验证）
  - 微信号（必填，最少6位）
  - 团队人数（必填，1-50人）
- 提交按钮：提交报名信息
- 确认弹窗：显示填写信息供确认

**页面逻辑：**
- 支持新增和编辑两种模式
- 表单验证通过后显示确认弹窗
- 提交成功后返回主页面

### 2.4 游戏信息表单页面
**页面元素：**
- 标题：游戏信息
- 表单字段：
  - 游戏ID（必填，需验证）+ 如何在TapTap创建游戏？链接
  - 验证按钮：验证游戏ID
  - 验证结果显示：成功/失败状态
  - 上线形式（必选，四选一）
  - 应征主题（必选，六选一）
  - 主题描述（必填，100字内）
- 提交按钮：提交游戏信息
- 确认弹窗：显示游戏信息供确认

**页面逻辑：**
- 游戏ID需要先验证通过才能提交
- 支持新增和编辑两种模式
- 编辑模式下游戏ID不可修改
- 提交成功后返回主页面

### 2.5 信息查看弹窗
**页面元素：**
- 标题：报名信息
- 查看模式：
  - 基本信息：Tap ID、手机号、微信号、团队人数
  - 游戏信息：游戏ID、游戏名称、厂商名称、上线形式、应征主题、主题描述
- 编辑模式：可修改的表单字段
- 操作按钮：编辑/保存

**页面逻辑：**
- 默认显示查看模式
- 点击编辑切换到编辑模式
- 保存后刷新用户状态

## 3. 用户状态与流转逻辑

### 3.1 用户状态定义
- **未登录**：未通过Tap登录认证
- **未报名**：已登录但未提交报名信息
- **已报名未提交游戏**：已提交报名信息但未提交游戏信息
- **已完成**：已提交报名信息和游戏信息

### 3.2 状态流转规则
```
未登录 → 登录成功 → 根据报名状态跳转
未报名 → 提交报名 → 已报名未提交游戏
已报名未提交游戏 → 提交游戏信息 → 已完成
已完成 → 修改报名信息 → 已报名未提交游戏
已完成 → 修改游戏信息 → 已完成（游戏ID不变）
```

### 3.3 页面访问权限
- **登录页**：所有未登录用户可访问
- **主页面**：所有已登录用户可访问
- **报名表单页**：已登录用户可访问
- **游戏信息表单页**：已报名用户可访问

## 4. 数据验证规则

### 4.1 报名信息验证
- 手机号：整数数字（考虑有海外用户，不限定11位）
- 微信号：微信规范字符组合
- 团队人数：>0整数

### 4.2 游戏信息验证
- 游戏ID：必须是用户管理的游戏（通过API验证）
- 主题描述：100字以内

## 5. 实现效果要求

### 5.1 状态管理效果
- 用户登录状态实时保持
- 页面刷新时自动检查登录状态
- 操作后实时更新用户状态和页面内容

### 5.2 页面路由效果
- 未登录用户自动跳转登录页
- 状态变化时自动跳转到正确页面
