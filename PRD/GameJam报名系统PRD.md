# GameJam报名系统 - 产品需求文档 (PRD)

## 📋 文档信息

| 项目名称 | GameJam报名系统 |
|---------|----------------|
| 文档版本 | v1.0.0 |
| 创建日期 | 2024年 |
| 文档状态 | 已完成 |
| 负责人 | 产品团队 |

---

## 🎯 1. 产品概述

### 1.1 产品背景
GameJam是一个面向游戏开发者的创意竞赛活动，需要一套完整的报名管理系统来收集参赛者信息、验证参赛资格、管理游戏提交等流程。

### 1.2 产品定位
- **目标用户**：游戏开发者、游戏工作室
- **使用场景**：GameJam活动报名、游戏信息提交
- **核心价值**：简化报名流程、提高管理效率、确保数据准确性

### 1.3 产品目标
- 提供便捷的在线报名体验
- 确保参赛者信息的真实性和完整性
- 支持分阶段提交信息，降低报名门槛
- 提供清晰的状态反馈和操作指引

---

## 👥 2. 用户分析

### 2.1 目标用户画像

#### 主要用户：独立游戏开发者
- **特征**：1-5人小团队，技术能力强，时间有限
- **需求**：快速报名，简单操作，清晰反馈
- **痛点**：传统报名流程复杂，信息重复填写

#### 次要用户：游戏工作室
- **特征**：团队规模较大，有专门的项目管理
- **需求**：批量报名，详细状态跟踪
- **痛点**：缺乏统一的管理界面

### 2.2 用户旅程

```
发现活动 → 了解规则 → 决定参赛 → 注册账号 → 填写基本信息 → 提交游戏信息 → 等待审核 → 确认参赛
```

### 2.3 用户场景

#### 场景1：首次报名
- 用户通过Tap账号登录
- 填写基本联系信息
- 提交团队规模预估
- 获得报名确认

#### 场景2：补充游戏信息
- 用户已有报名记录
- 验证游戏ID权限
- 选择上线形式和主题
- 提交游戏描述

#### 场景3：信息修改
- 用户需要更新联系信息
- 修改游戏相关信息
- 查看当前状态

---

## 🎮 3. 功能需求

### 3.1 核心功能模块

#### 3.1.1 用户认证模块
**功能描述**：基于Tap平台的OAuth认证系统

**详细需求**：
- 支持Tap账号一键登录
- 自动获取用户基本信息（Tap ID、用户名、头像）
- 维护登录状态，支持自动登录
- 提供安全的登出功能

**技术要求**：
- 集成Tap OAuth 2.0认证
- 使用JWT token管理会话
- 支持token自动刷新

#### 3.1.2 报名信息管理模块
**功能描述**：收集和管理参赛者的基本信息

**必填字段**：
- Tap ID（自动获取，只读显示）
- 联系人手机号（格式验证：1[3-9]xxxxxxxxx）
- 联系人微信号（长度验证：最少6位字符）
- 团队人数预估（范围验证：1-50人）

**业务规则**：
- 手机号必须为真实有效的中国大陆手机号
- 微信号必须为有效的微信账号
- 团队人数必须为整数，范围1-50人
- 所有字段均为必填项

#### 3.1.3 游戏信息管理模块
**功能描述**：收集和管理参赛游戏的相关信息

**必填字段**：
- 投稿游戏ID（需权限验证）
- 上线形式（单选：小游戏/TapPlay/WEB/星火编辑器）
- 应征主题（单选：6个主题选项）
- 主题描述（文本：100字以内）

**业务规则**：
- 游戏ID必须通过权限验证
- 只有游戏管理员账号才能提交特定游戏
- 主题描述必须说明游戏与主题的关联性
- 支持先报名后补交游戏信息

#### 3.1.4 游戏ID验证模块
**功能描述**：验证游戏ID的有效性和用户权限

**验证流程**：
1. 用户输入游戏ID
2. 系统调用Tap API验证游戏存在性
3. 检查用户是否为该游戏的管理员
4. 返回验证结果和游戏信息

**验证规则**：
- 游戏ID必须存在于Tap平台
- 用户必须为该游戏的管理员或开发者
- 游戏状态必须为正常状态
- 返回游戏名称和厂商信息

### 3.2 状态管理

#### 3.2.1 用户状态定义
```typescript
enum UserStatus {
  NOT_SIGNED_UP = 'not_signed_up',           // 未报名
  SIGNED_UP_NO_GAME = 'signed_up_no_game',   // 已报名，未提交游戏
  SIGNED_UP_WITH_GAME = 'signed_up_with_game' // 已完成报名
}
```

#### 3.2.2 状态流转规则
```
未报名 → 填写报名信息 → 已报名未提交游戏 → 提交游戏信息 → 已完成
   ↓           ↓               ↓                ↓           ↓
 登录页      报名表单        游戏信息表单      完成页面    状态展示
```

#### 3.2.3 状态提示文案
- **未报名**：欢迎参加GameJam！请先填写报名信息，然后提交游戏详情
- **已报名未提交游戏**：您已成功报名，请在征集结束前提交游戏信息
- **已完成**：您正在以【游戏名】-【厂商名】参加本期征集活动

### 3.3 表单验证规则

#### 3.3.1 报名表单验证
| 字段 | 验证规则 | 错误提示 |
|------|----------|----------|
| Tap ID | 自动获取，只读 | - |
| 手机号 | 格式：1[3-9]xxxxxxxxx | 请输入正确的手机号格式 |
| 微信号 | 最少6位字符 | 微信号至少6位字符 |
| 团队人数 | 1-50的整数 | 团队人数应在1-50人之间 |

#### 3.3.2 游戏表单验证
| 字段 | 验证规则 | 错误提示 |
|------|----------|----------|
| 游戏ID | 必填，最少3位字符 | 请输入游戏ID |
| 上线形式 | 必选 | 请选择上线形式 |
| 应征主题 | 必选 | 请选择应征主题 |
| 主题描述 | 必填，100字以内 | 主题描述不能超过100字 |

---

## 🎨 4. 界面设计需求

### 4.1 设计原则
- **简洁明了**：界面简洁，操作流程清晰
- **响应式设计**：适配桌面端和移动端
- **一致性**：保持视觉风格和交互模式一致
- **可访问性**：支持键盘导航和屏幕阅读器

### 4.2 页面结构

#### 4.2.1 登录页面
- **布局**：居中卡片式布局
- **元素**：Logo、标题、登录按钮、说明文字
- **交互**：点击登录按钮触发OAuth流程

#### 4.2.2 主页面
- **头部**：系统标题、用户状态、用户信息下拉菜单
- **内容区**：进度条、状态卡片、操作按钮
- **响应式**：移动端自适应布局

#### 4.2.3 表单页面
- **布局**：垂直表单布局
- **验证**：实时验证反馈
- **提交**：加载状态和结果反馈

### 4.3 交互设计

#### 4.3.1 表单交互
- **实时验证**：输入时实时显示验证结果
- **错误提示**：清晰的错误信息和修正建议
- **成功反馈**：操作成功的明确反馈

#### 4.3.2 状态反馈
- **进度指示**：清晰的进度条显示当前状态
- **状态文案**：友好的状态描述和操作指引
- **操作按钮**：根据状态显示相应的操作按钮

---

## 🔧 5. 技术需求

### 5.1 技术栈
- **前端框架**：React 18 + TypeScript
- **UI组件库**：Ant Design 5
- **构建工具**：Vite
- **状态管理**：React Context
- **HTTP客户端**：Axios
- **路由管理**：React Router DOM

### 5.2 系统架构

#### 5.2.1 前端架构
```
src/
├── components/          # 可复用组件
├── contexts/           # 全局状态管理
├── pages/              # 页面组件
├── services/           # API服务层
├── types/              # TypeScript类型定义
├── utils/              # 工具函数
└── assets/             # 静态资源
```

#### 5.2.2 数据流
```
用户操作 → 组件 → Context → API服务 → 后端接口 → 数据库
    ↓        ↓       ↓         ↓         ↓         ↓
  界面更新 ← 组件 ← Context ← API服务 ← 后端接口 ← 数据库
```

### 5.3 API接口设计

#### 5.3.1 认证接口
```typescript
// Tap登录
POST /api/auth/tap-login
Body: { code: string }
Response: { token: string, user: UserProfile }

// 获取当前用户
GET /api/user/current
Response: UserProfile

// 登出
POST /api/auth/logout
Response: void
```

#### 5.3.2 报名接口
```typescript
// 提交报名信息
POST /api/signup
Body: SignupFormData
Response: UserProfile

// 获取报名信息
GET /api/signup
Response: UserProfile
```

#### 5.3.3 游戏接口
```typescript
// 验证游戏ID
POST /api/game/validate
Body: { gameId: string }
Response: GameValidationResponse

// 提交游戏信息
POST /api/game/submit
Body: GameInfo
Response: UserProfile

// 获取游戏信息
GET /api/game
Response: GameInfo
```

### 5.4 数据模型

#### 5.4.1 用户信息
```typescript
interface UserInfo {
  tapId: string;        // Tap用户ID
  username: string;     // 用户名
  avatar?: string;      // 头像URL
}
```

#### 5.4.2 报名信息
```typescript
interface SignupFormData {
  tapId: string;        // Tap用户ID
  phone: string;        // 手机号
  wechat: string;       // 微信号
  teamSize: number;     // 团队人数
}
```

#### 5.4.3 游戏信息
```typescript
interface GameInfo {
  gameId: string;           // 游戏ID
  gameName: string;         // 游戏名称
  publisherName: string;    // 厂商名称
  releaseType: ReleaseType; // 上线形式
  theme: Theme;             // 应征主题
  themeDescription: string; // 主题描述
}
```

---

## 📊 6. 性能需求

### 6.1 响应时间
- **页面加载**：首屏加载时间 < 2秒
- **API响应**：接口响应时间 < 1秒
- **表单提交**：提交响应时间 < 2秒
- **游戏验证**：验证响应时间 < 1.5秒

### 6.2 并发性能
- **支持用户数**：同时在线用户 > 1000
- **并发请求**：支持 > 100并发API请求
- **数据处理**：支持 > 10000条报名记录

### 6.3 可用性
- **系统可用性**：99.9%
- **数据准确性**：100%
- **错误恢复**：自动错误恢复机制

---

## 🔒 7. 安全需求

### 7.1 认证安全
- **OAuth 2.0**：使用标准的OAuth 2.0协议
- **Token管理**：JWT token，支持自动刷新
- **会话管理**：安全的会话存储和清理

### 7.2 数据安全
- **数据传输**：HTTPS加密传输
- **数据存储**：敏感信息加密存储
- **访问控制**：基于角色的访问控制

### 7.3 输入验证
- **前端验证**：客户端实时验证
- **后端验证**：服务端严格验证
- **SQL注入防护**：参数化查询

---

## 📱 8. 兼容性需求

### 8.1 浏览器兼容性
- **Chrome**：版本 90+
- **Firefox**：版本 88+
- **Safari**：版本 14+
- **Edge**：版本 90+

### 8.2 设备兼容性
- **桌面端**：1920x1080及以上分辨率
- **平板端**：768x1024及以上分辨率
- **移动端**：375x667及以上分辨率

### 8.3 网络兼容性
- **网络环境**：支持2G/3G/4G/5G/WiFi
- **网络延迟**：适应高延迟网络环境
- **离线功能**：基础离线功能支持

---

## 🧪 9. 测试需求

### 9.1 功能测试
- **单元测试**：组件和函数单元测试
- **集成测试**：API接口集成测试
- **端到端测试**：完整用户流程测试

### 9.2 性能测试
- **负载测试**：高并发场景测试
- **压力测试**：极限条件测试
- **稳定性测试**：长时间运行测试

### 9.3 兼容性测试
- **浏览器测试**：多浏览器兼容性测试
- **设备测试**：多设备适配测试
- **网络测试**：不同网络环境测试

---

## 📈 10. 监控需求

### 10.1 性能监控
- **页面性能**：页面加载时间监控
- **API性能**：接口响应时间监控
- **错误监控**：前端错误收集和分析

### 10.2 用户行为监控
- **用户路径**：用户操作路径分析
- **转化率**：报名转化率统计
- **用户反馈**：用户反馈收集

### 10.3 业务监控
- **报名数据**：报名数据统计和分析
- **游戏信息**：游戏信息提交统计
- **系统状态**：系统运行状态监控

---

## 🚀 11. 部署需求

### 11.1 环境要求
- **Node.js**：版本 16+
- **包管理器**：npm 或 yarn
- **构建工具**：Vite
- **Web服务器**：Nginx 或 Apache

### 11.2 部署流程
1. **代码构建**：`npm run build`
2. **文件部署**：将dist目录部署到Web服务器
3. **配置更新**：更新环境配置
4. **服务启动**：启动Web服务

### 11.3 环境配置
- **开发环境**：本地开发环境
- **测试环境**：功能测试环境
- **生产环境**：正式运行环境

---

## 📋 12. 验收标准

### 12.1 功能验收
- [ ] 用户能够成功使用Tap账号登录
- [ ] 用户能够完整填写报名信息
- [ ] 用户能够验证和提交游戏信息
- [ ] 系统能够正确显示用户状态
- [ ] 所有表单验证功能正常工作

### 12.2 性能验收
- [ ] 页面加载时间 < 2秒
- [ ] API响应时间 < 1秒
- [ ] 支持1000+并发用户
- [ ] 系统可用性 > 99.9%

### 12.3 兼容性验收
- [ ] 支持主流浏览器
- [ ] 适配移动端设备
- [ ] 响应式布局正常
- [ ] 网络兼容性良好

### 12.4 安全验收
- [ ] OAuth认证安全
- [ ] 数据传输加密
- [ ] 输入验证完整
- [ ] 权限控制正确

---

## 📝 13. 附录

### 13.1 术语表
- **GameJam**：游戏开发创意竞赛
- **Tap**：游戏平台，提供用户认证服务
- **OAuth**：开放授权协议
- **JWT**：JSON Web Token
- **PRD**：产品需求文档

### 13.2 参考文档
- [Tap开发者文档](https://developer.tap.io)
- [OAuth 2.0规范](https://tools.ietf.org/html/rfc6749)
- [React官方文档](https://reactjs.org)
- [Ant Design文档](https://ant.design)

### 13.3 变更记录
| 版本 | 日期 | 变更内容 | 负责人 |
|------|------|----------|--------|
| v1.0.0 | 2024年 | 初始版本 | 产品团队 |

---

**文档结束**

*本PRD文档详细描述了GameJam报名系统的产品需求，包括功能需求、技术需求、性能需求等各个方面，为开发团队提供了明确的开发指导。* 